---Routing with React Router:---
In this section we'll go over routing, which is a way for allowing a user to go from one page to another using React Router.

You'll learn:
-setting up routes
-handling errors
-navigating between pages
-dynamic routes
-nested routes
-private routes



---Setting up Routing:---
So to setup routes in the application we'll need to download react router, configure & bootstrap it into the app.

Task 1 - install react router:
npm install react-router-dom@6.10.0


Task 2 - Configure router:
So just like in Angular, we have an array of route objects with path & components to be used at that route.
const router = createBrowserRouter([
    {path: '/', element: <HomePage />},
    {path: '/users', element: <UserListPage />}
]);


export default router;


Task 3 - Initialize Router Context in main.tsx
ReactDOM.createRoot(document.getElementById("root") as HTMLElement).render(
  <React.StrictMode>
    <QueryClientProvider client={queryClient}>
      <App />
      <ReactQueryDevtools />
    </QueryClientProvider>
  </React.StrictMode>
);


Result:
Now we have a homepage, and a users page.



---Navigation:---
The problem with anchor tags, is that we get a full page reload on clicking of a link.
We want to swap out the innter content, without triggering a reload.


Hard Link:
The link attribute is included with react router, it has access to the userList component as its already shipped to the client.
So we dont have to do that annoying reload.
-to = target url
 <Link to="/users">Users</Link>
      <br />
 <a href="/users">Users</a>


Programatically Link:
Say we want to send users to different locations based on a form, we can also do this with react router.
-navigate(URL) and voila we return to the homepage

     <form
      onSubmit={(event) => {
        event.preventDefault();
        // Redirect the user to the home page
        navigate('/');
      }}


Take Home:
We can use Link to switch pages without a reload, or use navigate(URL)
to Programatically navigate.



---Passing Data with Route Parameters:---
So we want to be able to have a user page, the first step is to allow dynamic routes, then we can route accordingly.


Task 1 - Add Route with Query Param:
This will allow the users/1 route
-So we use :id to specify a dynamic value on a route.
-we can also do :year:month or anything else we need.
{path: '/users/:id', element: <UserDetailPage />},
{path: '/posts/:year/:month', element: <UserListPage />},


Task 2 - Update navigation:
Next we build the logic to link to a dynamic page, based on the userId.
 <ul className="list-group">
      {users.map((user) => (
        <li className="list-group-item" key={user.id}>
          <Link to={`/users/${user.id}`}>{user.name}</Link>
        </li>
      ))}
    </ul>

Note:
In previous versions of react router, we had to order our routes from most specific to least.
However is version 6, its smart enough to figure that out for us.


Result:
We have a dynamic route users/1, next we're going to look at getting data from the route in order to load the user data.



---Getting Data from the Current Route:---
So we have a number of hooks for getting data out of our route, lets take a look.


Method 1 - useParams:
-this will only get the first set of params. (ID)
  const params = useParams(); 

http://localhost:5173/users/3?name=alice&age=32


Method 2 - useSearchParam:
useSearchParams will return us a searchParams object & a function to set them,  much like a state hook.
  const [searchParams, setSearchParams] = useSearchParams()
  console.log('searchParams - ', searchParams.toString());

If we want to get a specific part of the route, we can use a dictionary key like so
  console.log('name - ', searchParams.get('name'));


note:
We want to be very careful when setting route parameters, as there will be knock on effects.
eg changing a route triggers infinite reload etc.
So only try use them inside event handlers & useEffect hooks.


Method 3 - useLocation:
  const location = useLocation();
  console.log('location - ', location);


result:
hash
: 
""
key
: 
"default"
pathname
: 
"/users/3"
search
: 
"?name=alice&age=32"
state
: 
null



---Nested routes:---
In the real world a user will go on a complex journey or nested routes, how do we achieve this with react router?


Task 1 - Place router outlet:
An outlet is a container for any of the child components the route will return.

const Layout = () => {
  return (
    <>
      <NavBar />
      <div id="main">
        <Outlet />
      </div>
    </>
  );
};


Task 2 - Configure routes:
We need to update the router to nest all the routes inside the Layout component.
-index = true or path='' just mean this is the default route/component.

const router = createBrowserRouter([
    {path: '/', element: <Layout />, children: [
    {index: true, element: <HomePage />}, //index = true, means this homepage.
    {path: '/users', element: <UserListPage />},
    {path: '/users/:id', element: <UserDetailPage />},
    ]}, 
]);


Task 3 - Update Links:
We need to make sure the Homepage & Users are configured correctly.
        <Link to='/' className="nav-link">
          My App
        </Link>


Result:
We have a traditional route based web app, with nested routes.